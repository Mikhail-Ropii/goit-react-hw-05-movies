{"version":3,"file":"static/js/797.6a5aaf60.chunk.js","mappings":"kSAMe,SAASA,IACtB,OAAsCC,EAAAA,EAAAA,UAAS,MAA/C,eAAOC,EAAP,KAAoBC,EAApB,KACA,GAAsCF,EAAAA,EAAAA,UAAS,IAA/C,eAAOG,EAAP,KAAoBC,EAApB,KACA,GAAwCC,EAAAA,EAAAA,IAAgB,IAAxD,eAAOC,EAAP,KAAqBC,EAArB,KACMC,GAAWC,EAAAA,EAAAA,MACjBC,QAAQC,IAAIL,GAiCZ,OAhBAM,EAAAA,EAAAA,YAAU,WACR,GAAwB,KAApBJ,EAASK,OAAb,CAGA,IAAMC,EAAW,mCAAG,6GAEUC,EAAAA,GAAcP,EAASK,OAAOG,MAAM,IAF9C,OAEVf,EAFU,OAGhBC,EAAeD,GACoB,IAA/BA,EAAYgB,QAAQC,QACtBC,EAAAA,GAAAA,KAAW,cALG,yGAAH,qDASjBL,OACC,CAACN,EAASK,UAGX,iCACE,kBAAMO,UAAWC,EAAAA,EAAAA,MAAWC,SA7BX,SAAAC,GAEnB,GADAA,EAAEC,iBACyB,KAAvBrB,EAAYsB,OAGd,OAFAN,EAAAA,GAAAA,KAAW,yBACXf,EAAe,IAGjBG,EAAgB,CAAEmB,MAAOvB,EAAYwB,cAAcF,SACnDrB,EAAe,KAqBb,WACE,kBAAOwB,SAlCU,SAAAL,GACrBnB,EAAemB,EAAEM,cAAcC,QAiCMA,MAAO3B,KACxC,mBAAQ4B,KAAK,SAAb,uBAED9B,IACC,wBACGA,EAAYgB,QAAQe,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAP,OACvB,yBACE,SAAC,KAAD,CAAMC,GAAE,UAAKF,GAAMG,MAAO,CAAEC,KAAM7B,GAAlC,SACG0B,KAFID,SAQf,SAAC,KAAD,S,0MC3DNK,IAAAA,SAAAA,QAAyB,+BACzB,IAAMC,EAAU,mCAEHC,EAAa,mCAAG,oGACJF,IAAAA,IAAA,sCAAyCC,IADrC,cACrBE,EADqB,yBAEpBA,EAASC,MAFW,2CAAH,qDAKbC,EAAS,mCAAG,WAAMC,GAAN,uFACAN,IAAAA,IAAA,gCAAmCC,EAAnC,YAA8CK,IAD9C,cACjBH,EADiB,yBAEhBA,EAASC,MAFO,2CAAH,sDAKTG,EAAc,mCAAG,WAAMZ,GAAN,uFACLK,IAAAA,IAAA,iBAAoBL,EAApB,oBAAkCM,IAD7B,cACtBE,EADsB,yBAErBA,EAASC,MAFY,2CAAH,sDAKdI,EAAW,mCAAG,WAAMb,GAAN,uFACFK,IAAAA,IAAA,iBAAoBL,EAApB,4BAA0CM,IADxC,cACnBE,EADmB,yBAElBA,EAASC,MAFS,2CAAH,sDAKXK,EAAc,mCAAG,WAAMd,GAAN,uFACLK,IAAAA,IAAA,gBAAmBL,EAAnB,4BAAyCM,IADpC,cACtBE,EADsB,yBAErBA,EAASC,MAFY,2CAAH","sources":["pages/MoviesPage.jsx","services/Api.js"],"sourcesContent":["import * as Api from '../services/Api';\nimport { useEffect, useState } from 'react';\nimport { Outlet, Link, useSearchParams, useLocation } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport css from '../components/styles.module.css';\n\nexport default function MoviesPage() {\n  const [filmResults, setFilmResults] = useState(null);\n  const [searchValue, setSearchValue] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams({});\n  const location = useLocation();\n  console.log(searchParams);\n\n  const onSearchChange = e => {\n    setSearchValue(e.currentTarget.value);\n  };\n\n  const onSeachFilms = e => {\n    e.preventDefault();\n    if (searchValue.trim() === '') {\n      toast.warn('Enter movie name');\n      setSearchValue('');\n      return;\n    }\n    setSearchParams({ query: searchValue.toLowerCase().trim() });\n    setSearchValue('');\n  };\n\n  useEffect(() => {\n    if (location.search === '') {\n      return;\n    }\n    const fetchByName = async () => {\n      try {\n        const filmResults = await Api.getByName(location.search.slice(1));\n        setFilmResults(filmResults);\n        if (filmResults.results.length === 0) {\n          toast.warn('No results');\n        }\n      } catch (error) {}\n    };\n    fetchByName();\n  }, [location.search]);\n\n  return (\n    <>\n      <form className={css.input} onSubmit={onSeachFilms}>\n        <input onChange={onSearchChange} value={searchValue}></input>\n        <button type=\"submit\">Search</button>\n      </form>\n      {filmResults && (\n        <ul>\n          {filmResults.results.map(({ id, title }) => (\n            <li key={id}>\n              <Link to={`${id}`} state={{ from: location }}>\n                {title}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n      <Outlet></Outlet>\n    </>\n  );\n}\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'c4ff5df06d9c3bc212d0ff99e5222626';\n\nexport const getTrendFilms = async () => {\n  const response = await axios.get(`/trending/movie/day?api_key=${API_KEY}`);\n  return response.data;\n};\n\nexport const getByName = async name => {\n  const response = await axios.get(`/search/movie?api_key=${API_KEY}&${name}`);\n  return response.data;\n};\n\nexport const getDetailsById = async id => {\n  const response = await axios.get(`/movie/${id}?api_key=${API_KEY}`);\n  return response.data;\n};\n\nexport const getCastById = async id => {\n  const response = await axios.get(`/movie/${id}/credits?api_key=${API_KEY}`);\n  return response.data;\n};\n\nexport const getReviewsById = async id => {\n  const response = await axios.get(`movie/${id}/reviews?api_key=${API_KEY}`);\n  return response.data;\n};\n"],"names":["MoviesPage","useState","filmResults","setFilmResults","searchValue","setSearchValue","useSearchParams","searchParams","setSearchParams","location","useLocation","console","log","useEffect","search","fetchByName","Api","slice","results","length","toast","className","css","onSubmit","e","preventDefault","trim","query","toLowerCase","onChange","currentTarget","value","type","map","id","title","to","state","from","axios","API_KEY","getTrendFilms","response","data","getByName","name","getDetailsById","getCastById","getReviewsById"],"sourceRoot":""}